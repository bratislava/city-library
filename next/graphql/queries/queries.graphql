# TODO refactor - move footer to fragment and get rid of unused data
query Footer($locale: I18NLocaleCode!) {
  footer(locale: $locale) {
    data {
      id
      attributes {
        footerColumns {
          id
          title
          footerLink {
            id
            title
            otherSite
            redirectTo {
              data {
                ...PageWithBaseFieldsEntity
              }
            }
          }
        }
        siteMapLink {
          data {
            ...PageWithBaseFieldsEntity
          }
        }
        privacyLink {
          data {
            ...PageWithBaseFieldsEntity
          }
        }
        copyrightText
      }
    }
  }
}

query HomePage($locale: I18NLocaleCode!) {
  homePage(locale: $locale) {
    data {
      attributes {
        faqSection {
          id
          title
          redirectTo {
            data {
              ...PageWithBaseFieldsEntity
            }
          }
          faqs {
            id
            question
            answer
          }
          ctas {
            id
            title
            ctaRedirectTo {
              data {
                ...PageWithBaseFieldsEntity
              }
            }
          }
        }
        registrationInfoSection {
          id
          title
          description
          redirectTo {
            data {
              ...PageWithBaseFieldsEntity
            }
          }
          registrationBenefits {
            id
            benefit
          }
        }
        newsSection {
          id
          title
          redirectTo {
            data {
              ...PageWithBaseFieldsEntity
            }
          }
        }
        localizations {
          data {
            attributes {
              locale
            }
          }
        }
        Seo {
          id
          metaTitle
          metaDescription
          keywords
          metaRobots
          metaViewport
          canonicalURL
        }
      }
    }
  }
  menus(locale: $locale, sort: ["order:asc"]) {
    data {
      ...Menu
    }
  }
  footer(locale: $locale) {
    data {
      id
      attributes {
        footerColumns {
          id
          title
          footerLink {
            id
            redirectTo {
              data {
                ...PageWithBaseFieldsEntity
              }
            }
            title
            otherSite
          }
        }
        siteMapLink {
          data {
            ...PageWithBaseFieldsEntity
          }
        }
        privacyLink {
          data {
            ...PageWithBaseFieldsEntity
          }
        }
      }
    }
  }
}

query BookTags {
  bookTags {
    data {
      attributes {
        displayName
        slug
      }
    }
  }
}

query Premises($locale: I18NLocaleCode!) {
  premises(locale: $locale) {
    data {
      attributes {
        title
        address
        url
        image {
          data {
            attributes {
              width
              height
              url
              alternativeText
            }
          }
        }
      }
    }
  }
}

query Menus($locale: I18NLocaleCode!) {
  menus(locale: $locale, sort: ["order:asc"]) {
    data {
      ...Menu
    }
  }
}

fragment Menu on MenuEntity {
  id
  attributes {
    menuTitle
    menuSlug
    menuTotalColumns
    order
    menuSections {
      ...MenuSection
    }
    createdAt
    updatedAt
  }
}

fragment MenuSection on ComponentMenuSections {
  id
  sectionTitle
  sectionColumnSpan
  sectionPage {
    data {
      ...PageWithBaseFieldsEntity
    }
  }
  sectionLinks {
    id
    sectionLinkTitle
    sectionLinkPage {
      data {
        ...SectionLinkPage
      }
    }
  }
}

fragment Sections on PageSectionsDynamicZone {
  __typename
  ... on ComponentSectionsSubListing {
    id
    title
    url
  }

  ... on ComponentSectionsFaq {
    id
    title
    questions {
      ...AccordionItem
    }
  }
  ... on ComponentSectionsFlatTextCenter {
    id
    content
    image {
      data {
        id
        attributes {
          name
          width
          height
          url
          createdAt
          hash
          mime
          provider
          size
          updatedAt
          alternativeText
        }
      }
    }
  }
  ... on ComponentSectionsFlatText {
    id
    content
    media {
      data {
        id
        attributes {
          name
          width
          height
          url
          createdAt
          hash
          mime
          provider
          size
          updatedAt
          alternativeText
        }
      }
    }
  }
  ... on ComponentSectionsSiteUsefullness {
    id
    title
    thankYouMessage
  }
  ... on ComponentSectionsForm {
    id
    type
  }
  ... on ComponentSectionsSubpages {
    id
    ...Subpages
  }
  ... on ComponentSectionsTable {
    ...Table
  }
  ... on ComponentSectionsAccordion {
    title
    flatText {
      ...FlatText
    }
    tableRows {
      ...TableRow
    }
    forms {
      category
      type
    }
  }
  ... on ComponentSectionsDivider {
    shown
  }
  ... on ComponentSectionsColumnedText {
    title
    content
  }
  ... on ComponentSectionsExternalLinks {
    title
    externalLinks {
      ...ExternalLink
    }
    descriptions {
      ...FlatText
    }
  }
  ... on ComponentSectionsCta {
    title
    url
  }

  ... on ComponentSectionsVideo {
    id
    youtube_url
    media {
      data {
        attributes {
          url
        }
      }
    }
  }

  ... on ComponentSectionsDocuments {
    id
    title
    basicDocuments {
      data {
        ...BasicDocument
      }
    }
    moreLink {
      ...PageLink
    }
  }

  ... on ComponentSectionsLocalityDetails {
    id
    localityTitle
    localityDescription
    localityLongitude
    localityLatitude
    displayOnHomePage
    isMainLocality
    localityCoverImage {
      data {
        id
        attributes {
          name
          width
          height
          url
          createdAt
          hash
          mime
          provider
          size
          updatedAt
        }
      }
    }
    localityMap {
      data {
        id
        attributes {
          name
          width
          height
          url
          createdAt
          hash
          mime
          provider
          size
          updatedAt
        }
      }
    }
    localityAddress {
      id
      title
      navigateTo
    }
    localitySections {
      id
      localitySectionTitle
      localitySectionPhone
      localitySectionEmail
      localitySectionDescription
      isMainSection
      openingHoursMondayFrom
      openingHoursMondayTo
      openingHoursTuesdayFrom
      openingHoursTuesdayTo
      openingHoursWednesdayFrom
      openingHoursWednesdayTo
      openingHoursThursdayFrom
      openingHoursThursdayTo
      openingHoursFridayFrom
      openingHoursFridayTo
      openingHoursSaturdayFrom
      openingHoursSaturdayTo
      openingHoursSundayFrom
      openingHoursSundayTo
    }
    localityServices {
      id
      page {
        data {
          ...PageWithBaseFieldsEntity
        }
      }
    }
  }

  ... on ComponentSectionsGallery {
    id
    Gallery {
      id
      Description
      Photo {
        data {
          id
          attributes {
            name
            width
            height
            url
            createdAt
            hash
            mime
            provider
            size
            updatedAt
          }
        }
      }
    }
  }
}

fragment FlatText on ComponentAccordionItemsFlatText {
  category
  content
}

fragment TableRow on ComponentAccordionItemsTableRow {
  accordionCategory
  tableCategory
  label
  value
  valueAlign
}

fragment Table on ComponentSectionsTable {
  primaryTitle
  secondaryTitle
  rows {
    label
    value
    valueAlign
  }
}

fragment Subpages on ComponentSectionsSubpages {
  title
  subpages {
    id
    title
    description
    url
    page {
      data {
        ...PageWithBaseFieldsEntity
      }
    }
  }
}

fragment ExternalLink on ComponentBlocksExternalLink {
  category
  title
  url
}

fragment AccordionItem on ComponentBlocksAccordionItem {
  id
  label
  content
}

fragment PageLink on ComponentBlocksPageLink {
  title
  url
  page {
    data {
      ...PageWithBaseFieldsEntity
    }
  }
}

fragment Pagination on Pagination {
  total
  page
  pageSize
  pageCount
}
