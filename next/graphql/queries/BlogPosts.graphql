query BlogPostStaticPaths {
  blogPosts {
    data {
      id
      attributes {
        slug
      }
    }
  }
}

query BlogPostBySlug($slug: String!) {
  blogPosts(filters: {slug: {eq: $slug}}) {
    data {
      ...BlogPostWithParentPage
    }
  }
}

fragment BlogPostWithParentPage on BlogPostEntity {
  id
  attributes {
    ...BlogPost
    parentPage {
      data {
        ...ParentPage
      }
    }
  }
}

fragment ParentPage on PageEntity {
  id
  attributes {
    title
    slug
    layout
    pageCategory {
      data {
        ...PageCategory
      }
    }
  }
}

query FetchBlogPosts($id: ID, $limit: Int, $offset: Int) {
  blogPosts(filters: {id: {eq: $id}}, pagination: {limit: $limit, start: $offset}){
    data {
      id
      attributes {
        ...BlogPost
      }
    }
  }
}

query BlogPostsCount {
  blogPosts {
    meta {
      pagination {
        total
      }
    }
  }
}
