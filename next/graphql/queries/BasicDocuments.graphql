query BasicDocumentBySlug($slug: String!) {
  basicDocuments(filters: {slug: {eq: $slug}}) {
    ...BasicDocument
  }
}

# query AllBasicDocuments($limit: Int, $offset: Int, $sort: String, $categoryId: Int, $query: String) {
#   allBasicDocuments(limit: $limit, offset: $offset, sort: $sort, categoryId: $categoryId, query: $query) {
#     ...BasicDocument
#   }
# }

# query BasicDocumentsCount {
#   basicDocumentCount
# }

query FileCategories {
  fileCategories {
    data {
      id
      attributes {
        name
        slug
      }
    }
  }
}

# query DocumentCategoryBySlug($slug: String!) {
#   documentCategoryBySlug(slug: $slug) {
#     ...DocumentCategory
#   }
# }

# fragment DocumentCategory on FileCategory {
#   id
#   name
#   slug
#   page {
#     ...Page
#   }
# }

fragment BasicDocumentFile on UploadFileEntityResponse {
  data {
    id
    attributes {
      url
      name
      ext
    }
  }
}

fragment BasicDocument on BasicDocumentEntityResponseCollection {
  data {
    attributes {
      slug
      title
      description
      date_added
      author
      link
      file_category {
        data {
          id
          attributes {
            name
            slug
          }
        }
      }
      metadata {
        ...Metadata
      }
      attachment {
        ...BasicDocumentFile
      }
    }
    id
  }
}

fragment Metadata on BasicDocumentMetadataDynamicZone {
  __typename

  ... on ComponentMetadataFaktury {
    id
    name
    date
    attachment {
      ...BasicDocumentFile
    }
  }
  ... on ComponentMetadataMetadata {
    id
    provider
    year
    grant_name
    grant_number
    amount
    description
  }
  ... on ComponentMetadataZmluvy {
    id
    date
    number
    amount
    supplier
    subject
  }
  ... on ComponentMetadataObchodnaVerejnaSutaz {
    id
    subject
    description
    number
    date_added
    amount
    attachment {
      ...BasicDocumentFile
    }
  }
  ... on ComponentMetadataObjednavky {
    id
    title
    date_period
    date_added
    attachment {
      ...BasicDocumentFile
    }
  }
  ... on ComponentMetadataVerejneObstaravanie {
    id
    subject
    description
    number
    date_added
    amount
    attachment {
      ...BasicDocumentFile
    }
  }
}
